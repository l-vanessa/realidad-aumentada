<!DOCTYPE html>
<html>
  <head>
    <title>Cute Hamster AR - A-Frame</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs>

      <a-assets>
        <a-asset-item id="hamster-model" src="cute_hamster/scene.gltf"></a-asset-item>
      </a-assets>

      <a-marker preset="hiro">

        <a-gltf-model src="#hamster-model"
                      position="0 0 0"
                      scale="0.5 0.5 0.5"
                      rotation="0 0 0"
                      id="hamster-model-obj"
                      animation="property: rotation; to: 0 360 0; loop: true; dur: 6000"
                      cursor="rayOrigin: mouse">
        </a-gltf-model>

        <a-box position="0 0 0" 
               scale="0.6 0.8 0.6" 
               material="opacity: 0; wireframe: false"
               id="hamster-click-area"
               class="clickable">
        </a-box>

        <a-text value="Cute Hamster"
                position="0 1.5 0"
                align="center"
                color="#ff69b4"
                scale="1.5 1.5 1.5"
                font="https://cdn.aframe.io/fonts/Exo2Bold.fnt">
        </a-text>

      </a-marker>

      <a-entity camera></a-entity>

    </a-scene>

    <script>
      const hamsterModel = document.getElementById('hamster-model-obj');
      const clickArea = document.getElementById('hamster-click-area');
      let isPurple = false;

      clickArea.addEventListener('click', function() {
        console.log('Click detectado!');
        isPurple = !isPurple;
        
        // Obtener el objeto 3D del modelo
        const object3D = hamsterModel.object3D;
        
        if (object3D) {
          object3D.traverse(function(child) {
            if (child.material) {
              if (isPurple) {
                child.material.color.setHex(0xA020F0); // Morado
              } else {
                child.material.color.setHex(0xFFFFFF); // Blanco
              }
            }
          });
        }
      });
    </script>
  </body>
</html>